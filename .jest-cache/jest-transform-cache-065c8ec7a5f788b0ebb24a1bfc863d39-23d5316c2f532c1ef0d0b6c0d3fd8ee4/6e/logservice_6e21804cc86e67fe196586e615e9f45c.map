{"file":"/home/omar/Desktop/Protofolio_without_redis/src/log/log.service.ts","mappings":";;;;;;;;;;;;;;;;AAAA,2CAA4C;AAC5C,6CAAmD;AACnD,uDAA6C;AAC7C,qCAAqC;AAE9B,IAAM,UAAU,GAAhB,MAAM,UAAU;IAEqB;IAD1C,YAC0C,OAAwB;QAAxB,YAAO,GAAP,OAAO,CAAiB;IAC/D,CAAC;IACJ,KAAK,CAAC,GAAG,CAAC,OAAe,EAAE,OAAgB;QACzC,MAAM,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,CAAC,CAAC;IAC/D,CAAC;IACD,KAAK,CAAC,KAAK,CAAC,OAAe,EAAE,KAAc,EAAE,OAAgB;QAC3D,MAAM,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;YACtB,KAAK,EAAE,OAAO;YACd,OAAO,EAAE,GAAG,OAAO,IAAI,KAAK,IAAI,EAAE,EAAE;YACpC,OAAO;SACR,CAAC,CAAC;IACL,CAAC;IACD,KAAK,CAAC,IAAI,CAAC,OAAe,EAAE,OAAgB;QAC1C,MAAM,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,CAAC,CAAC;IAC/D,CAAC;IACD,KAAK,CAAC,MAAM,CAAC,IAAY,EAAE,IAAY;QACrC,OAAO,MAAM,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;YAC7B,IAAI;YACJ,IAAI;YACJ,KAAK,EAAE,EAAE,SAAS,EAAE,MAAM,EAAE;SAC7B,CAAC,CAAC;IACL,CAAC;CACF,CAAA;AAxBY,gCAAU;qBAAV,UAAU;IADtB,IAAA,mBAAU,GAAE;IAGR,WAAA,IAAA,0BAAgB,EAAC,gBAAG,CAAC,CAAA;yDAA2B,oBAAU,oBAAV,oBAAU;GAFlD,UAAU,CAwBtB","names":[],"sources":["/home/omar/Desktop/Protofolio_without_redis/src/log/log.service.ts"],"sourcesContent":["import { Injectable } from \"@nestjs/common\";\nimport { InjectRepository } from \"@nestjs/typeorm\";\nimport { Log } from \"../entities/Log.entity\";\nimport { Repository } from \"typeorm\";\n@Injectable()\nexport class LogService {\n  constructor(\n    @InjectRepository(Log) private readonly logRepo: Repository<Log>,\n  ) {}\n  async log(message: string, context?: string) {\n    await this.logRepo.save({ level: \"info\", message, context });\n  }\n  async error(message: string, trace?: string, context?: string) {\n    await this.logRepo.save({\n      level: \"error\",\n      message: `${message} ${trace || \"\"}`,\n      context,\n    });\n  }\n  async warn(message: string, context?: string) {\n    await this.logRepo.save({ level: \"warn\", message, context });\n  }\n  async getlog(take: number, skip: number) {\n    return await this.logRepo.find({\n      take,\n      skip,\n      order: { timestamp: \"DESC\" },\n    });\n  }\n}\n"],"version":3}