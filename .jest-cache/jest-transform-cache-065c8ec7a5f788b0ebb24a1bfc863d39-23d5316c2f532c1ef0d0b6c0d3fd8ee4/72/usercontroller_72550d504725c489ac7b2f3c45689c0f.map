{"file":"/home/omar/Desktop/Protofolio_without_redis/src/user/user.controller.ts","mappings":"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","names":[],"sources":["/home/omar/Desktop/Protofolio_without_redis/src/user/user.controller.ts"],"sourcesContent":["import { Controller, Post, Body, UseGuards, Get, Query } from \"@nestjs/common\";\nimport { UserService } from \"./user.service\";\nimport {\n  AddReviewDto,\n  EditReviewDto,\n  RemoveReviewDto,\n  AddCartItemDto,\n  RemoveCartItemDto,\n  IncreaseQuantityDto,\n  DecreaseQuantityDto,\n  FindProductsByCategoryDto,\n  SearchProductsDto,\n} from \"./dto/user.dto\";\nimport { JwtAuthGuard } from \"../auth/guards/auth.guard\";\nimport { ThrottlerGuard } from \"@nestjs/throttler\";\nimport { Product } from \"../entities/Product.entity\";\nimport { ApiResponse, PaginatedResponse } from \"../common/dto/response.dto\";\n\n@Controller(\"user\")\n@UseGuards(JwtAuthGuard, ThrottlerGuard)\nexport class UserController {\n  constructor(private readonly UserService: UserService) {}\n  @Post(\"Add_Review\")\n  async Add_Review(@Body() dto: AddReviewDto): Promise<ApiResponse> {\n    await this.UserService.Add_Review(\n      dto.email,\n      dto.comment,\n      dto.productId,\n      dto.rating,\n    );\n    return ApiResponse.success(\"Review added successfully\");\n  }\n  @Post(\"Edit_Review\")\n  async Edit_Review(@Body() dto: EditReviewDto): Promise<ApiResponse> {\n    await this.UserService.Edit_Review(\n      dto.email,\n      dto.reviewId,\n      dto.comment,\n      dto.rating,\n    );\n    return ApiResponse.success(\"Review updated successfully\");\n  }\n\n  @Post(\"Remove_Review\")\n  async Remove_Review(@Body() dto: RemoveReviewDto): Promise<ApiResponse> {\n    await this.UserService.Remove_Review(dto.email, dto.reviewId);\n    return ApiResponse.success(\"Review removed successfully\");\n  }\n  @Post(\"Add_Cart_Item\")\n  async Add_Cart_Item(@Body() dto: AddCartItemDto): Promise<ApiResponse> {\n    await this.UserService.Add_Cart_Item(dto.cartId, dto.productId);\n    return ApiResponse.success(\"Item added to cart successfully\");\n  }\n  @Post(\"Remove_Cart_Item\")\n  async Remove_Cart_Item(@Body() dto: RemoveCartItemDto): Promise<ApiResponse> {\n    await this.UserService.Remove_Cart_Item(dto.cartId, dto.productId);\n    return ApiResponse.success(\"Item removed from cart successfully\");\n  }\n  @Post(\"increase_Quantity\")\n  async increase_Quantity(\n    @Body() dto: IncreaseQuantityDto,\n  ): Promise<ApiResponse> {\n    await this.UserService.increase_Quantity(dto.cartItemId);\n    return ApiResponse.success(\"Quantity increased successfully\");\n  }\n  @Post(\"decrease_Quantity\")\n  async decrease_Quantity(\n    @Body() dto: DecreaseQuantityDto,\n  ): Promise<ApiResponse> {\n    await this.UserService.decrease_Quantity(dto.cartItemId);\n    return ApiResponse.success(\"Quantity decreased successfully\");\n  }\n  @Get(\"products_search/\")\n  async SearchProducts(\n    @Query() query: SearchProductsDto,\n  ): Promise<PaginatedResponse<Product>> {\n    const searchTerm = query.searchTerm ?? \"\";\n    const p = query.page ? Number(query.page) : 1;\n    const result = await this.UserService.SearchProducts(searchTerm, p);\n    return new PaginatedResponse(\n      \"Products retrieved successfully\",\n      result.products,\n      result.currentPage,\n      result.totalPages,\n      result.products.length,\n      10, // itemsPerPage - you may need to adjust this based on your service\n    );\n  }\n  @Get(\"ProductCategory/\")\n  async FindProductsByCategory(\n    @Query() query: FindProductsByCategoryDto,\n  ): Promise<PaginatedResponse<Product>> {\n    const p = query.page ? Number(query.page) : 1;\n    const result = await this.UserService.FindProductsByCategory(\n      query.categoryId,\n      p,\n    );\n    return new PaginatedResponse(\n      \"Products retrieved successfully\",\n      result.products,\n      result.currentPage,\n      result.totalPages,\n      result.products.length,\n      10, // itemsPerPage - you may need to adjust this based on your service\n    );\n  }\n}\n"],"version":3}