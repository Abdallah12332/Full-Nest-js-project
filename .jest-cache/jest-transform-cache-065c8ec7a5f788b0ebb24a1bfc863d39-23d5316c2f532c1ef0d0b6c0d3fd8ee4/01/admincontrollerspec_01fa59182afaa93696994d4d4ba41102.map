{"file":"/home/omar/Desktop/Protofolio_without_redis/src/admin/admin.controller.spec.ts","mappings":";AAAA,sDAAsD;;AAEtD,6CAAsD;AACtD,yDAAqD;AACrD,mDAA+C;AAC/C,oDAAgD;AAChD,iDAAmD;AAGnD,yDAA+C;AAI/C,QAAQ,CAAC,iBAAiB,EAAE,GAAG,EAAE;IAC/B,IAAI,UAA2B,CAAC;IAChC,IAAI,YAA0B,CAAC;IAC/B,IAAI,UAAsB,CAAC;IAE3B,UAAU,CAAC,KAAK,IAAI,EAAE;QACpB,MAAM,MAAM,GAAkB,MAAM,cAAI,CAAC,mBAAmB,CAAC;YAC3D,WAAW,EAAE,CAAC,kCAAe,CAAC;YAC9B,SAAS,EAAE;gBACT;oBACE,OAAO,EAAE,4BAAY;oBACrB,QAAQ,EAAE;wBACR,aAAa,EAAE,IAAI,CAAC,EAAE,EAAE;wBACxB,QAAQ,EAAE,IAAI,CAAC,EAAE,EAAE;wBACnB,UAAU,EAAE,IAAI,CAAC,EAAE,EAAE;wBACrB,UAAU,EAAE,IAAI,CAAC,EAAE,EAAE;wBACrB,UAAU,EAAE,IAAI,CAAC,EAAE,EAAE;wBACrB,iBAAiB,EAAE,IAAI,CAAC,EAAE,EAAE;wBAC5B,WAAW,EAAE,IAAI,CAAC,EAAE,EAAE;wBACtB,aAAa,EAAE,IAAI,CAAC,EAAE,EAAE;wBACxB,aAAa,EAAE,IAAI,CAAC,EAAE,EAAE;wBACxB,aAAa,EAAE,IAAI,CAAC,EAAE,EAAE;wBACxB,SAAS,EAAE,IAAI,CAAC,EAAE,EAAE;wBACpB,aAAa,EAAE,IAAI,CAAC,EAAE,EAAE;qBACzB;iBACF;gBACD;oBACE,OAAO,EAAE,wBAAU;oBACnB,QAAQ,EAAE;wBACR,MAAM,EAAE,IAAI,CAAC,EAAE,EAAE;qBAClB;iBACF;gBACD;oBACE,OAAO,EAAE,0BAA0B;oBACnC,QAAQ,EAAE,EAAE;iBACb;aACF;SACF,CAAC;aACC,aAAa,CAAC,0BAAc,CAAC;aAC7B,QAAQ,CAAC,EAAE,WAAW,EAAE,GAAG,EAAE,CAAC,IAAI,EAAE,CAAC;aACrC,OAAO,EAAE,CAAC;QAEb,UAAU,GAAG,MAAM,CAAC,GAAG,CAAC,kCAAe,CAAC,CAAC;QACzC,YAAY,GAAG,MAAM,CAAC,GAAG,CAAC,4BAAY,CAAC,CAAC;QACxC,UAAU,GAAG,MAAM,CAAC,GAAG,CAAC,wBAAU,CAAC,CAAC;IACtC,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,mBAAmB,EAAE,GAAG,EAAE;QAC3B,MAAM,CAAC,UAAU,CAAC,CAAC,WAAW,EAAE,CAAC;IACnC,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,eAAe,EAAE,GAAG,EAAE;QAC7B,EAAE,CAAC,qBAAqB,EAAE,KAAK,IAAI,EAAE;YACnC,MAAM,SAAS,GAAG,CAAC,EAAE,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,OAAO,EAAE,CAAsB,CAAC;YACpE,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,eAAe,CAAC,CAAC,iBAAiB,CAAC,SAAS,CAAC,CAAC;YAEvE,MAAM,MAAM,GAAG,MAAM,UAAU,CAAC,aAAa,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC;YACpE,MAAM,CAAC,MAAM,CAAC,CAAC,OAAO,CACpB,MAAM,CAAC,gBAAgB,CAAC;gBACtB,OAAO,EAAE,IAAI;gBACb,OAAO,EAAE,8BAA8B;gBACvC,IAAI,EAAE,SAAS;aAChB,CAAC,CACH,CAAC;YACF,MAAM,CAAC,YAAY,CAAC,aAAa,CAAC,CAAC,oBAAoB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAChE,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,UAAU,EAAE,GAAG,EAAE;QACxB,EAAE,CAAC,wBAAwB,EAAE,KAAK,IAAI,EAAE;YACtC,MAAM,QAAQ,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,OAAO,EAAqB,CAAC;YAC/D,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,UAAU,CAAC,CAAC,iBAAiB,CAAC,QAAQ,CAAC,CAAC;YAEjE,MAAM,MAAM,GAAG,MAAM,UAAU,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;YAC9C,MAAM,CAAC,MAAM,CAAC,CAAC,OAAO,CACpB,MAAM,CAAC,gBAAgB,CAAC;gBACtB,OAAO,EAAE,IAAI;gBACb,OAAO,EAAE,6BAA6B;gBACtC,IAAI,EAAE,QAAQ;aACf,CAAC,CACH,CAAC;QACJ,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,YAAY,EAAE,GAAG,EAAE;QAC1B,EAAE,CAAC,wCAAwC,EAAE,KAAK,IAAI,EAAE;YACtD,MAAM,QAAQ,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,OAAO,EAAqB,CAAC;YAC/D,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,YAAY,CAAC,CAAC,iBAAiB,CAAC,QAAQ,CAAC,CAAC;YAEnE,MAAM,MAAM,GAAG,MAAM,UAAU,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;YACrD,MAAM,CAAC,MAAM,CAAC,CAAC,OAAO,CACpB,MAAM,CAAC,gBAAgB,CAAC;gBACtB,OAAO,EAAE,IAAI;gBACb,OAAO,EAAE,2BAA2B;gBACpC,IAAI,EAAE,QAAQ;aACf,CAAC,CACH,CAAC;YACF,MAAM,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC,oBAAoB,CAAC,QAAQ,CAAC,CAAC;QACjE,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,YAAY,EAAE,GAAG,EAAE;QAC1B,EAAE,CAAC,oBAAoB,EAAE,KAAK,IAAI,EAAE;YAClC,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,YAAY,CAAC,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;YAE/D,MAAM,MAAM,GAAG,MAAM,UAAU,CAAC,UAAU,CAAC;gBACzC,EAAE,EAAE,GAAG;gBACP,YAAY,EAAE;oBACZ,IAAI,EAAE,KAAK;oBACX,EAAE,EAAE,EAAE;oBACN,KAAK,EAAE,EAAE;oBACT,KAAK,EAAE,EAAE;oBACT,QAAQ,EAAE,OAAO;oBACjB,IAAI,EAAE,MAAM;oBACZ,UAAU,EAAE,KAAK;oBACjB,aAAa,EAAE,EAAE;oBACjB,SAAS,EAAE,IAAI,IAAI,EAAE;oBACrB,SAAS,EAAE,IAAI,IAAI,EAAE;oBACrB,MAAM,EAAE,EAAE;oBACV,IAAI,EAAE,IAAI,kBAAI,EAAE;oBAChB,OAAO,EAAE,EAAE;iBACZ;aACF,CAAC,CAAC;YAEH,MAAM,CAAC,MAAM,CAAC,CAAC,OAAO,CACpB,MAAM,CAAC,gBAAgB,CAAC;gBACtB,OAAO,EAAE,IAAI;gBACb,OAAO,EAAE,2BAA2B;aACrC,CAAC,CACH,CAAC;YACF,MAAM,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC,oBAAoB,CAClD,GAAG,EACH,MAAM,CAAC,gBAAgB,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,CACzC,CAAC;QACJ,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,YAAY,EAAE,GAAG,EAAE;QAC1B,EAAE,CAAC,oBAAoB,EAAE,KAAK,IAAI,EAAE;YAClC,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,YAAY,CAAC,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;YAE/D,MAAM,MAAM,GAAG,MAAM,UAAU,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;YAChD,MAAM,CAAC,MAAM,CAAC,CAAC,OAAO,CACpB,MAAM,CAAC,gBAAgB,CAAC;gBACtB,OAAO,EAAE,IAAI;gBACb,OAAO,EAAE,2BAA2B;aACrC,CAAC,CACH,CAAC;QACJ,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,mBAAmB,EAAE,GAAG,EAAE;QACjC,EAAE,CAAC,gCAAgC,EAAE,KAAK,IAAI,EAAE;YAC9C,MAAM,YAAY,GAAG,CAAC,EAAE,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,MAAM,EAAE,CAAyB,CAAC;YACzE,IAAI;iBACD,KAAK,CAAC,YAAY,EAAE,mBAAmB,CAAC;iBACxC,iBAAiB,CAAC,YAAY,CAAC,CAAC;YAEnC,MAAM,MAAM,GAAG,MAAM,UAAU,CAAC,iBAAiB,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC;YACxE,MAAM,CAAC,MAAM,CAAC,CAAC,OAAO,CACpB,MAAM,CAAC,gBAAgB,CAAC;gBACtB,OAAO,EAAE,IAAI;gBACb,OAAO,EAAE,iCAAiC;gBAC1C,IAAI,EAAE,YAAY;aACnB,CAAC,CACH,CAAC;QACJ,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,aAAa,EAAE,GAAG,EAAE;QAC3B,EAAE,CAAC,6BAA6B,EAAE,KAAK,IAAI,EAAE;YAC3C,MAAM,WAAW,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,MAAM,EAAwB,CAAC;YACpE,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,aAAa,CAAC,CAAC,iBAAiB,CAAC,WAAW,CAAC,CAAC;YAEvE,MAAM,MAAM,GAAG,MAAM,UAAU,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;YACjD,MAAM,CAAC,MAAM,CAAC,CAAC,OAAO,CACpB,MAAM,CAAC,gBAAgB,CAAC;gBACtB,OAAO,EAAE,IAAI;gBACb,OAAO,EAAE,gCAAgC;gBACzC,IAAI,EAAE,WAAW;aAClB,CAAC,CACH,CAAC;QACJ,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,eAAe,EAAE,GAAG,EAAE;QAC7B,EAAE,CAAC,uBAAuB,EAAE,KAAK,IAAI,EAAE;YACrC,MAAM,WAAW,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,MAAM,EAAwB,CAAC;YACpE,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,eAAe,CAAC,CAAC,iBAAiB,CAAC,WAAW,CAAC,CAAC;YAEzE,MAAM,MAAM,GAAG,MAAM,UAAU,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC;YAC3D,MAAM,CAAC,MAAM,CAAC,CAAC,OAAO,CACpB,MAAM,CAAC,gBAAgB,CAAC;gBACtB,OAAO,EAAE,IAAI;gBACb,OAAO,EAAE,8BAA8B;gBACvC,IAAI,EAAE,WAAW;aAClB,CAAC,CACH,CAAC;QACJ,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,eAAe,EAAE,GAAG,EAAE;QAC7B,EAAE,CAAC,uBAAuB,EAAE,KAAK,IAAI,EAAE;YACrC,IAAI;iBACD,KAAK,CAAC,YAAY,EAAE,eAAe,CAAC;iBACpC,iBAAiB,CAAC,8BAA8B,CAAC,CAAC;YAErD,MAAM,MAAM,GAAG,MAAM,UAAU,CAAC,aAAa,CAAC;gBAC5C,EAAE,EAAE,GAAG;gBACP,cAAc,EAAE;oBACd,IAAI,EAAE,KAAK;oBACX,EAAE,EAAE,EAAE;oBACN,WAAW,EAAE,EAAE;oBACf,KAAK,EAAE,CAAC;oBACR,KAAK,EAAE,CAAC;oBACR,MAAM,EAAE,EAAE;oBACV,SAAS,EAAE,IAAI,IAAI,EAAE;oBACrB,SAAS,EAAE,IAAI,IAAI,EAAE;oBACrB,OAAO,EAAE,EAAE;oBACX,SAAS,EAAE,EAAE;iBACd;aACF,CAAC,CAAC;YAEH,MAAM,CAAC,MAAM,CAAC,CAAC,OAAO,CACpB,MAAM,CAAC,gBAAgB,CAAC;gBACtB,OAAO,EAAE,IAAI;gBACb,OAAO,EAAE,8BAA8B;aACxC,CAAC,CACH,CAAC;QACJ,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,eAAe,EAAE,GAAG,EAAE;QAC7B,EAAE,CAAC,uBAAuB,EAAE,KAAK,IAAI,EAAE;YACrC,IAAI;iBACD,KAAK,CAAC,YAAY,EAAE,eAAe,CAAC;iBACpC,iBAAiB,CAAC,8BAA8B,CAAC,CAAC;YAErD,MAAM,MAAM,GAAG,MAAM,UAAU,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;YACnD,MAAM,CAAC,MAAM,CAAC,CAAC,OAAO,CACpB,MAAM,CAAC,gBAAgB,CAAC;gBACtB,OAAO,EAAE,IAAI;gBACb,OAAO,EAAE,8BAA8B;aACxC,CAAC,CACH,CAAC;QACJ,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,WAAW,EAAE,GAAG,EAAE;QACzB,EAAE,CAAC,0BAA0B,EAAE,KAAK,IAAI,EAAE;YACxC,MAAM,QAAQ,GAAG,EAAE,EAAE,EAAE,GAAG,EAAqB,CAAC;YAChD,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,WAAW,CAAC,CAAC,iBAAiB,CAAC,QAAQ,CAAC,CAAC;YAElE,MAAM,MAAM,GAAG,MAAM,UAAU,CAAC,SAAS,CAAC,EAAE,EAAE,EAAE,GAAG,EAAE,CAAC,CAAC;YACvD,MAAM,CAAC,MAAM,CAAC,CAAC,OAAO,CACpB,MAAM,CAAC,gBAAgB,CAAC;gBACtB,OAAO,EAAE,IAAI;gBACb,OAAO,EAAE,6BAA6B;gBACtC,IAAI,EAAE,QAAQ;aACf,CAAC,CACH,CAAC;QACJ,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,eAAe,EAAE,GAAG,EAAE;QAC7B,EAAE,CAAC,+BAA+B,EAAE,KAAK,IAAI,EAAE;YAC7C,MAAM,YAAY,GAAG,EAAE,EAAE,EAAE,GAAG,EAAyB,CAAC;YACxD,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,eAAe,CAAC,CAAC,iBAAiB,CAAC,YAAY,CAAC,CAAC;YAE1E,MAAM,MAAM,GAAG,MAAM,UAAU,CAAC,aAAa,CAAC,EAAE,EAAE,EAAE,GAAG,EAAE,CAAC,CAAC;YAC3D,MAAM,CAAC,MAAM,CAAC,CAAC,OAAO,CACpB,MAAM,CAAC,gBAAgB,CAAC;gBACtB,OAAO,EAAE,IAAI;gBACb,OAAO,EAAE,kCAAkC;gBAC3C,IAAI,EAAE,YAAY;aACnB,CAAC,CACH,CAAC;QACJ,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,QAAQ,EAAE,GAAG,EAAE;QACtB,EAAE,CAAC,oBAAoB,EAAE,KAAK,IAAI,EAAE;YAClC,MAAM,QAAQ,GAAG;gBACf,EAAE,EAAE,EAAE,GAAG,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,SAAS,EAAE,IAAI,IAAI,EAAE,EAAE;aAC9C,CAAC;YACtB,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC,iBAAiB,CAAC,QAAQ,CAAC,CAAC;YAE7D,MAAM,MAAM,GAAG,MAAM,UAAU,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC;YAC7D,MAAM,CAAC,MAAM,CAAC,CAAC,OAAO,CACpB,MAAM,CAAC,gBAAgB,CAAC;gBACtB,OAAO,EAAE,IAAI;gBACb,OAAO,EAAE,6BAA6B;gBACtC,IAAI,EAAE,QAAQ;aACf,CAAC,CACH,CAAC;YACF,MAAM,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,oBAAoB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACvD,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","names":[],"sources":["/home/omar/Desktop/Protofolio_without_redis/src/admin/admin.controller.spec.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/unbound-method */\n\nimport { Test, TestingModule } from \"@nestjs/testing\";\nimport { AdminController } from \"./admin.controller\";\nimport { AdminService } from \"./admin.service\";\nimport { LogService } from \"../log/log.service\";\nimport { ThrottlerGuard } from \"@nestjs/throttler\";\nimport { User } from \"../entities/User.entity\";\nimport { Product } from \"../entities/Product.entity\";\nimport { Cart } from \"../entities/Cart.entity\";\nimport { CartItem } from \"../entities/Cart_Item.entity\";\nimport { Log } from \"../entities/Log.entity\";\n\ndescribe(\"AdminController\", () => {\n  let controller: AdminController;\n  let adminService: AdminService;\n  let logService: LogService;\n\n  beforeEach(async () => {\n    const module: TestingModule = await Test.createTestingModule({\n      controllers: [AdminController],\n      providers: [\n        {\n          provide: AdminService,\n          useValue: {\n            FindLimitUser: jest.fn(),\n            FindUser: jest.fn(),\n            CreateUser: jest.fn(),\n            UpdateUser: jest.fn(),\n            DeleteUser: jest.fn(),\n            FindLimitProducts: jest.fn(),\n            FindProduct: jest.fn(),\n            CreateProduct: jest.fn(),\n            UpdateProduct: jest.fn(),\n            DeleteProduct: jest.fn(),\n            Find_Cart: jest.fn(),\n            Find_CartItem: jest.fn(),\n          },\n        },\n        {\n          provide: LogService,\n          useValue: {\n            getlog: jest.fn(),\n          },\n        },\n        {\n          provide: \"THROTTLER:MODULE_OPTIONS\",\n          useValue: {},\n        },\n      ],\n    })\n      .overrideGuard(ThrottlerGuard)\n      .useValue({ canActivate: () => true })\n      .compile();\n\n    controller = module.get(AdminController);\n    adminService = module.get(AdminService);\n    logService = module.get(LogService);\n  });\n\n  it(\"should be defined\", () => {\n    expect(controller).toBeDefined();\n  });\n\n  describe(\"FindLimitUser\", () => {\n    it(\"should return users\", async () => {\n      const mockUsers = [{ id: \"1\", name: \"User1\" }] as unknown as User[];\n      jest.spyOn(adminService, \"FindLimitUser\").mockResolvedValue(mockUsers);\n\n      const result = await controller.FindLimitUser({ take: 1, skip: 0 });\n      expect(result).toEqual(\n        expect.objectContaining({\n          success: true,\n          message: \"Users retrieved successfully\",\n          data: mockUsers,\n        }),\n      );\n      expect(adminService.FindLimitUser).toHaveBeenCalledWith(1, 0);\n    });\n  });\n\n  describe(\"FindUser\", () => {\n    it(\"should return one user\", async () => {\n      const mockUser = { id: \"1\", name: \"User1\" } as unknown as User;\n      jest.spyOn(adminService, \"FindUser\").mockResolvedValue(mockUser);\n\n      const result = await controller.FindUser(\"1\");\n      expect(result).toEqual(\n        expect.objectContaining({\n          success: true,\n          message: \"User retrieved successfully\",\n          data: mockUser,\n        }),\n      );\n    });\n  });\n\n  describe(\"CreateUser\", () => {\n    it(\"should create user and return response\", async () => {\n      const mockUser = { id: \"1\", name: \"User1\" } as unknown as User;\n      jest.spyOn(adminService, \"CreateUser\").mockResolvedValue(mockUser);\n\n      const result = await controller.CreateUser(mockUser);\n      expect(result).toEqual(\n        expect.objectContaining({\n          success: true,\n          message: \"User created successfully\",\n          data: mockUser,\n        }),\n      );\n      expect(adminService.CreateUser).toHaveBeenCalledWith(mockUser);\n    });\n  });\n\n  describe(\"UpdateUser\", () => {\n    it(\"should update user\", async () => {\n      jest.spyOn(adminService, \"UpdateUser\").mockResolvedValue(\"ok\");\n\n      const result = await controller.UpdateUser({\n        id: \"1\",\n        updated_User: {\n          name: \"New\",\n          id: \"\",\n          Photo: \"\",\n          email: \"\",\n          provider: \"local\",\n          role: \"user\",\n          isVerified: false,\n          refresh_Token: \"\",\n          createdAt: new Date(),\n          updatedAt: new Date(),\n          orders: [],\n          cart: new Cart(),\n          reviews: [],\n        },\n      });\n\n      expect(result).toEqual(\n        expect.objectContaining({\n          success: true,\n          message: \"User updated successfully\",\n        }),\n      );\n      expect(adminService.UpdateUser).toHaveBeenCalledWith(\n        \"1\",\n        expect.objectContaining({ name: \"New\" }),\n      );\n    });\n  });\n\n  describe(\"DeleteUser\", () => {\n    it(\"should delete user\", async () => {\n      jest.spyOn(adminService, \"DeleteUser\").mockResolvedValue(\"ok\");\n\n      const result = await controller.DeleteUser(\"1\");\n      expect(result).toEqual(\n        expect.objectContaining({\n          success: true,\n          message: \"User deleted successfully\",\n        }),\n      );\n    });\n  });\n\n  describe(\"FindLimitProducts\", () => {\n    it(\"should return limited products\", async () => {\n      const mockProducts = [{ id: \"1\", name: \"Prod\" }] as unknown as Product[];\n      jest\n        .spyOn(adminService, \"FindLimitProducts\")\n        .mockResolvedValue(mockProducts);\n\n      const result = await controller.FindLimitProducts({ take: 2, skip: 0 });\n      expect(result).toEqual(\n        expect.objectContaining({\n          success: true,\n          message: \"Products retrieved successfully\",\n          data: mockProducts,\n        }),\n      );\n    });\n  });\n\n  describe(\"FindProduct\", () => {\n    it(\"should return product by id\", async () => {\n      const mockProduct = { id: \"1\", name: \"Prod\" } as unknown as Product;\n      jest.spyOn(adminService, \"FindProduct\").mockResolvedValue(mockProduct);\n\n      const result = await controller.FindProduct(\"1\");\n      expect(result).toEqual(\n        expect.objectContaining({\n          success: true,\n          message: \"Product retrieved successfully\",\n          data: mockProduct,\n        }),\n      );\n    });\n  });\n\n  describe(\"CreateProduct\", () => {\n    it(\"should create product\", async () => {\n      const mockProduct = { id: \"1\", name: \"Prod\" } as unknown as Product;\n      jest.spyOn(adminService, \"CreateProduct\").mockResolvedValue(mockProduct);\n\n      const result = await controller.CreateProduct(mockProduct);\n      expect(result).toEqual(\n        expect.objectContaining({\n          success: true,\n          message: \"Product created successfully\",\n          data: mockProduct,\n        }),\n      );\n    });\n  });\n\n  describe(\"UpdateProduct\", () => {\n    it(\"should update product\", async () => {\n      jest\n        .spyOn(adminService, \"UpdateProduct\")\n        .mockResolvedValue(\"Product updated successfully\");\n\n      const result = await controller.UpdateProduct({\n        id: \"1\",\n        updatedProduct: {\n          name: \"new\",\n          id: \"\",\n          description: \"\",\n          price: 0,\n          stock: 0,\n          images: [],\n          createdAt: new Date(),\n          updatedAt: new Date(),\n          reviews: [],\n          cartItems: [],\n        },\n      });\n\n      expect(result).toEqual(\n        expect.objectContaining({\n          success: true,\n          message: \"Product updated successfully\",\n        }),\n      );\n    });\n  });\n\n  describe(\"DeleteProduct\", () => {\n    it(\"should delete product\", async () => {\n      jest\n        .spyOn(adminService, \"DeleteProduct\")\n        .mockResolvedValue(\"Product deleted successfully\");\n\n      const result = await controller.DeleteProduct(\"1\");\n      expect(result).toEqual(\n        expect.objectContaining({\n          success: true,\n          message: \"Product deleted successfully\",\n        }),\n      );\n    });\n  });\n\n  describe(\"Find_Cart\", () => {\n    it(\"should return cart by id\", async () => {\n      const mockCart = { id: \"1\" } as unknown as Cart;\n      jest.spyOn(adminService, \"Find_Cart\").mockResolvedValue(mockCart);\n\n      const result = await controller.Find_Cart({ id: \"1\" });\n      expect(result).toEqual(\n        expect.objectContaining({\n          success: true,\n          message: \"Cart retrieved successfully\",\n          data: mockCart,\n        }),\n      );\n    });\n  });\n\n  describe(\"Find_CartItem\", () => {\n    it(\"should return cart item by id\", async () => {\n      const mockCartItem = { id: \"1\" } as unknown as CartItem;\n      jest.spyOn(adminService, \"Find_CartItem\").mockResolvedValue(mockCartItem);\n\n      const result = await controller.Find_CartItem({ id: \"1\" });\n      expect(result).toEqual(\n        expect.objectContaining({\n          success: true,\n          message: \"Cart item retrieved successfully\",\n          data: mockCartItem,\n        }),\n      );\n    });\n  });\n\n  describe(\"getlog\", () => {\n    it(\"should return logs\", async () => {\n      const mockLogs = [\n        { id: \"1\", message: \"log\", level: \"info\", timestamp: new Date() },\n      ] as unknown as Log[];\n      jest.spyOn(logService, \"getlog\").mockResolvedValue(mockLogs);\n\n      const result = await controller.getlog({ take: 2, skip: 0 });\n      expect(result).toEqual(\n        expect.objectContaining({\n          success: true,\n          message: \"Logs retrieved successfully\",\n          data: mockLogs,\n        }),\n      );\n      expect(logService.getlog).toHaveBeenCalledWith(2, 0);\n    });\n  });\n});\n"],"version":3}