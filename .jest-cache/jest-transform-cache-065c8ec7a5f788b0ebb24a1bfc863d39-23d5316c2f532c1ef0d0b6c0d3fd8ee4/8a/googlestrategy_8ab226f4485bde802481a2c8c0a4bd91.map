{"version":3,"names":["cov_2cujaxliqh","actualCoverage","common_1","s","require","passport_1","passport_google_oauth20_1","config_1","GoogleStrategy","PassportStrategy","Strategy","configService","constructor","f","clientID","b","get","clientSecret","callbackURL","scope","validate","accessToken","refreshToken","profile","id","emails","displayName","photos","provider","exports","__decorate","Injectable","ConfigService","_a","Object"],"sources":["/home/omar/Desktop/Protofolio_without_redis/src/auth/google.strategy.ts"],"sourcesContent":["import { Injectable } from \"@nestjs/common\";\nimport { PassportStrategy } from \"@nestjs/passport\";\nimport { Strategy } from \"passport-google-oauth20\";\nimport { ConfigService } from \"@nestjs/config\";\nimport { GoogleProfile } from \"./GoogleProfile\";\n\n@Injectable()\nexport class GoogleStrategy extends PassportStrategy(Strategy, \"google\") {\n  constructor(private configService: ConfigService) {\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-call\n    super({\n      clientID: configService.get<string>(\"GOOGLE_CLIENT_ID\") ?? \"\",\n      clientSecret: configService.get<string>(\"GOOGLE_CLIENT_SECRET\") ?? \"\",\n      callbackURL: configService.get<string>(\"GOOGLE_CALLBACK_URL\") ?? \"\",\n      scope: [\"email\", \"profile\"],\n    });\n  }\n\n  validate(\n    accessToken: string,\n    refreshToken: string,\n    profile: GoogleProfile,\n  ): GoogleProfile {\n    return {\n      id: profile.id,\n      emails: profile.emails,\n      displayName: profile.displayName,\n      photos: profile.photos,\n      provider: profile.provider,\n    };\n  }\n}\n"],"mappings":"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","ignoreList":[]}