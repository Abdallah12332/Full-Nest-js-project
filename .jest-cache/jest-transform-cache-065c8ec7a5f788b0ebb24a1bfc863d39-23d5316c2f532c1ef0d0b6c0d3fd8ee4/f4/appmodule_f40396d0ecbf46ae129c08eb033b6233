c3bebda958c63d87ed49a0fde173726d
"use strict";
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
exports.AppModule = void 0;
const common_1 = require("@nestjs/common");
const app_controller_1 = require("./app.controller");
const app_service_1 = require("./app.service");
const admin_module_1 = require("./admin/admin.module");
const typeorm_1 = require("@nestjs/typeorm");
const User_entity_1 = require("./entities/User.entity");
const Product_entity_1 = require("./entities/Product.entity");
const Cart_entity_1 = require("./entities/Cart.entity");
const Cart_Item_entity_1 = require("./entities/Cart_Item.entity");
const Order_entity_1 = require("./entities/Order.entity");
const Review_entity_1 = require("./entities/Review.entity");
const FailedAttempt_entity_1 = require("./entities/FailedAttempt.entity");
const PasswordReset_entity_1 = require("./entities/PasswordReset.entity");
const auth_module_1 = require("./auth/auth.module");
const config_1 = require("@nestjs/config");
const Verification_entity_1 = require("./entities/Verification.entity");
const user_module_1 = require("./user/user.module");
const Joi = __importStar(require("joi"));
const throttler_1 = require("@nestjs/throttler");
const core_1 = require("@nestjs/core");
const log_module_1 = require("./log/log.module");
const all_exceptions_filter_1 = require("./log/filters/all-exceptions.filter");
const Log_entity_1 = require("./entities/Log.entity");
const BlackList_entity_1 = require("./entities/BlackList.entity");
const csrf_middleware_1 = require("./csrf.middleware");
let AppModule = class AppModule {
    configure(consumer) {
        consumer.apply(csrf_middleware_1.CsrfMiddleware).forRoutes("");
    }
};
exports.AppModule = AppModule;
exports.AppModule = AppModule = __decorate([
    (0, common_1.Module)({
        imports: [
            config_1.ConfigModule.forRoot({
                isGlobal: true,
                validationSchema: Joi.object({
                    GOOGLE_CLIENT_ID: Joi.string().required(),
                    GOOGLE_CLIENT_SECRET: Joi.string().required(),
                    GOOGLE_CALLBACK_URL: Joi.string().uri().required(),
                    JWT_SECRET: Joi.string().required(),
                    EMAIL: Joi.string().email().required(),
                    PASSWORD: Joi.string().required(),
                    DB_PASS: Joi.string().required(),
                    DB_HOST: Joi.string().required(),
                    DB_PORT: Joi.number().required(),
                    DB_USER: Joi.string().required(),
                    DB_NAME: Joi.string().required(),
                    DB_POOL_SIZE: Joi.number().required(),
                    JWT_EXPIRES_ACCESSTOKEN: Joi.string().required(),
                    JWT_EXPIRES_REFRESHTOKEN: Joi.string().required(),
                    CORS: Joi.string() /*.uri()*/
                        .required(),
                    PORT: Joi.string().required(),
                    NODE_ENV: Joi.string().required(),
                }),
            }),
            throttler_1.ThrottlerModule.forRoot({
                throttlers: [
                    {
                        ttl: 60,
                        limit: 10,
                    },
                ],
            }),
            typeorm_1.TypeOrmModule.forRootAsync({
                imports: [config_1.ConfigModule],
                inject: [config_1.ConfigService],
                useFactory: (config) => ({
                    type: "mariadb",
                    host: config.get("DB_HOST"),
                    port: config.get("DB_PORT"),
                    username: config.get("DB_USER"),
                    password: config.get("DB_PASS"),
                    database: config.get("DB_NAME"),
                    entities: [
                        User_entity_1.User,
                        Product_entity_1.Product,
                        Cart_entity_1.Cart,
                        Cart_Item_entity_1.CartItem,
                        Order_entity_1.Order,
                        Review_entity_1.Review,
                        Verification_entity_1.Verification,
                        FailedAttempt_entity_1.FailedAttempt,
                        PasswordReset_entity_1.PasswordReset,
                        Log_entity_1.Log,
                        BlackList_entity_1.RefreshTokenBlacklist,
                    ],
                    synchronize: false,
                    extra: {
                        connectionLimit: config.get("DB_POOL_SIZE") || 10,
                    },
                }),
            }),
            admin_module_1.AdminModule,
            auth_module_1.AuthModule,
            user_module_1.UserModule,
            log_module_1.LogModule,
        ],
        controllers: [app_controller_1.AppController],
        providers: [
            app_service_1.AppService,
            {
                provide: core_1.APP_GUARD,
                useClass: throttler_1.ThrottlerGuard,
            },
            {
                provide: core_1.APP_FILTER,
                useClass: all_exceptions_filter_1.AllExceptionsFilter,
            },
        ],
    })
], AppModule);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvb21hci9EZXNrdG9wL1Byb3RvZm9saW9fd2l0aG91dF9yZWRpcy9zcmMvYXBwLm1vZHVsZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSwyQ0FBd0U7QUFDeEUscURBQWlEO0FBQ2pELCtDQUEyQztBQUMzQyx1REFBbUQ7QUFDbkQsNkNBQWdEO0FBQ2hELHdEQUE4QztBQUM5Qyw4REFBb0Q7QUFDcEQsd0RBQThDO0FBQzlDLGtFQUF1RDtBQUN2RCwwREFBZ0Q7QUFDaEQsNERBQWtEO0FBQ2xELDBFQUFnRTtBQUNoRSwwRUFBZ0U7QUFDaEUsb0RBQWdEO0FBQ2hELDJDQUE2RDtBQUM3RCx3RUFBOEQ7QUFDOUQsb0RBQWdEO0FBQ2hELHlDQUEyQjtBQUMzQixpREFBb0U7QUFDcEUsdUNBQXFEO0FBQ3JELGlEQUE2QztBQUM3QywrRUFBMEU7QUFDMUUsc0RBQTRDO0FBQzVDLGtFQUFvRTtBQUNwRSx1REFBbUQ7QUFrRjVDLElBQU0sU0FBUyxHQUFmLE1BQU0sU0FBUztJQUNwQixTQUFTLENBQUMsUUFBNEI7UUFDcEMsUUFBUSxDQUFDLEtBQUssQ0FBQyxnQ0FBYyxDQUFDLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQy9DLENBQUM7Q0FDRixDQUFBO0FBSlksOEJBQVM7b0JBQVQsU0FBUztJQWhGckIsSUFBQSxlQUFNLEVBQUM7UUFDTixPQUFPLEVBQUU7WUFDUCxxQkFBWSxDQUFDLE9BQU8sQ0FBQztnQkFDbkIsUUFBUSxFQUFFLElBQUk7Z0JBQ2QsZ0JBQWdCLEVBQUUsR0FBRyxDQUFDLE1BQU0sQ0FBQztvQkFDM0IsZ0JBQWdCLEVBQUUsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDLFFBQVEsRUFBRTtvQkFDekMsb0JBQW9CLEVBQUUsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDLFFBQVEsRUFBRTtvQkFDN0MsbUJBQW1CLEVBQUUsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsRUFBRSxD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QjtTQUNGO0tBQ0YsQ0FBQztHQUNXLFNBQVMsQ0FJckIiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL2hvbWUvb21hci9EZXNrdG9wL1Byb3RvZm9saW9fd2l0aG91dF9yZWRpcy9zcmMvYXBwLm1vZHVsZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNaWRkbGV3YXJlQ29uc3VtZXIsIE1vZHVsZSwgTmVzdE1vZHVsZSB9IGZyb20gXCJAbmVzdGpzL2NvbW1vblwiO1xuaW1wb3J0IHsgQXBwQ29udHJvbGxlciB9IGZyb20gXCIuL2FwcC5jb250cm9sbGVyXCI7XG5pbXBvcnQgeyBBcHBTZXJ2aWNlIH0gZnJvbSBcIi4vYXBwLnNlcnZpY2VcIjtcbmltcG9ydCB7IEFkbWluTW9kdWxlIH0gZnJvbSBcIi4vYWRtaW4vYWRtaW4ubW9kdWxlXCI7XG5pbXBvcnQgeyBUeXBlT3JtTW9kdWxlIH0gZnJvbSBcIkBuZXN0anMvdHlwZW9ybVwiO1xuaW1wb3J0IHsgVXNlciB9IGZyb20gXCIuL2VudGl0aWVzL1VzZXIuZW50aXR5XCI7XG5pbXBvcnQgeyBQcm9kdWN0IH0gZnJvbSBcIi4vZW50aXRpZXMvUHJvZHVjdC5lbnRpdHlcIjtcbmltcG9ydCB7IENhcnQgfSBmcm9tIFwiLi9lbnRpdGllcy9DYXJ0LmVudGl0eVwiO1xuaW1wb3J0IHsgQ2FydEl0ZW0gfSBmcm9tIFwiLi9lbnRpdGllcy9DYXJ0X0l0ZW0uZW50aXR5XCI7XG5pbXBvcnQgeyBPcmRlciB9IGZyb20gXCIuL2VudGl0aWVzL09yZGVyLmVudGl0eVwiO1xuaW1wb3J0IHsgUmV2aWV3IH0gZnJvbSBcIi4vZW50aXRpZXMvUmV2aWV3LmVudGl0eVwiO1xuaW1wb3J0IHsgRmFpbGVkQXR0ZW1wdCB9IGZyb20gXCIuL2VudGl0aWVzL0ZhaWxlZEF0dGVtcHQuZW50aXR5XCI7XG5pbXBvcnQgeyBQYXNzd29yZFJlc2V0IH0gZnJvbSBcIi4vZW50aXRpZXMvUGFzc3dvcmRSZXNldC5lbnRpdHlcIjtcbmltcG9ydCB7IEF1dGhNb2R1bGUgfSBmcm9tIFwiLi9hdXRoL2F1dGgubW9kdWxlXCI7XG5pbXBvcnQgeyBDb25maWdNb2R1bGUsIENvbmZpZ1NlcnZpY2UgfSBmcm9tIFwiQG5lc3Rqcy9jb25maWdcIjtcbmltcG9ydCB7IFZlcmlmaWNhdGlvbiB9IGZyb20gXCIuL2VudGl0aWVzL1ZlcmlmaWNhdGlvbi5lbnRpdHlcIjtcbmltcG9ydCB7IFVzZXJNb2R1bGUgfSBmcm9tIFwiLi91c2VyL3VzZXIubW9kdWxlXCI7XG5pbXBvcnQgKiBhcyBKb2kgZnJvbSBcImpvaVwiO1xuaW1wb3J0IHsgVGhyb3R0bGVyR3VhcmQsIFRocm90dGxlck1vZHVsZSB9IGZyb20gXCJAbmVzdGpzL3Rocm90dGxlclwiO1xuaW1wb3J0IHsgQVBQX0ZJTFRFUiwgQVBQX0dVQVJEIH0gZnJvbSBcIkBuZXN0anMvY29yZVwiO1xuaW1wb3J0IHsgTG9nTW9kdWxlIH0gZnJvbSBcIi4vbG9nL2xvZy5tb2R1bGVcIjtcbmltcG9ydCB7IEFsbEV4Y2VwdGlvbnNGaWx0ZXIgfSBmcm9tIFwiLi9sb2cvZmlsdGVycy9hbGwtZXhjZXB0aW9ucy5maWx0ZXJcIjtcbmltcG9ydCB7IExvZyB9IGZyb20gXCIuL2VudGl0aWVzL0xvZy5lbnRpdHlcIjtcbmltcG9ydCB7IFJlZnJlc2hUb2tlbkJsYWNrbGlzdCB9IGZyb20gXCIuL2VudGl0aWVzL0JsYWNrTGlzdC5lbnRpdHlcIjtcbmltcG9ydCB7IENzcmZNaWRkbGV3YXJlIH0gZnJvbSBcIi4vY3NyZi5taWRkbGV3YXJlXCI7XG5cbkBNb2R1bGUoe1xuICBpbXBvcnRzOiBbXG4gICAgQ29uZmlnTW9kdWxlLmZvclJvb3Qoe1xuICAgICAgaXNHbG9iYWw6IHRydWUsXG4gICAgICB2YWxpZGF0aW9uU2NoZW1hOiBKb2kub2JqZWN0KHtcbiAgICAgICAgR09PR0xFX0NMSUVOVF9JRDogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICAgIEdPT0dMRV9DTElFTlRfU0VDUkVUOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgICAgR09PR0xFX0NBTExCQUNLX1VSTDogSm9pLnN0cmluZygpLnVyaSgpLnJlcXVpcmVkKCksXG4gICAgICAgIEpXVF9TRUNSRVQ6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgICBFTUFJTDogSm9pLnN0cmluZygpLmVtYWlsKCkucmVxdWlyZWQoKSxcbiAgICAgICAgUEFTU1dPUkQ6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgICBEQl9QQVNTOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgICAgREJfSE9TVDogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICAgIERCX1BPUlQ6IEpvaS5udW1iZXIoKS5yZXF1aXJlZCgpLFxuICAgICAgICBEQl9VU0VSOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgICAgREJfTkFNRTogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICAgIERCX1BPT0xfU0laRTogSm9pLm51bWJlcigpLnJlcXVpcmVkKCksXG4gICAgICAgIEpXVF9FWFBJUkVTX0FDQ0VTU1RPS0VOOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgICAgSldUX0VYUElSRVNfUkVGUkVTSFRPS0VOOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgICAgQ09SUzogSm9pLnN0cmluZygpIC8qLnVyaSgpKi9cbiAgICAgICAgICAucmVxdWlyZWQoKSxcbiAgICAgICAgUE9SVDogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICAgIE5PREVfRU5WOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgIH0pLFxuICAgIH0pLFxuICAgIFRocm90dGxlck1vZHVsZS5mb3JSb290KHtcbiAgICAgIHRocm90dGxlcnM6IFtcbiAgICAgICAge1xuICAgICAgICAgIHR0bDogNjAsXG4gICAgICAgICAgbGltaXQ6IDEwLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICB9KSxcbiAgICBUeXBlT3JtTW9kdWxlLmZvclJvb3RBc3luYyh7XG4gICAgICBpbXBvcnRzOiBbQ29uZmlnTW9kdWxlXSxcbiAgICAgIGluamVjdDogW0NvbmZpZ1NlcnZpY2VdLFxuICAgICAgdXNlRmFjdG9yeTogKGNvbmZpZzogQ29uZmlnU2VydmljZSkgPT4gKHtcbiAgICAgICAgdHlwZTogXCJtYXJpYWRiXCIsXG4gICAgICAgIGhvc3Q6IGNvbmZpZy5nZXQ8c3RyaW5nPihcIkRCX0hPU1RcIiksXG4gICAgICAgIHBvcnQ6IGNvbmZpZy5nZXQ8bnVtYmVyPihcIkRCX1BPUlRcIiksXG4gICAgICAgIHVzZXJuYW1lOiBjb25maWcuZ2V0PHN0cmluZz4oXCJEQl9VU0VSXCIpLFxuICAgICAgICBwYXNzd29yZDogY29uZmlnLmdldDxzdHJpbmc+KFwiREJfUEFTU1wiKSxcbiAgICAgICAgZGF0YWJhc2U6IGNvbmZpZy5nZXQ8c3RyaW5nPihcIkRCX05BTUVcIiksXG4gICAgICAgIGVudGl0aWVzOiBbXG4gICAgICAgICAgVXNlcixcbiAgICAgICAgICBQcm9kdWN0LFxuICAgICAgICAgIENhcnQsXG4gICAgICAgICAgQ2FydEl0ZW0sXG4gICAgICAgICAgT3JkZXIsXG4gICAgICAgICAgUmV2aWV3LFxuICAgICAgICAgIFZlcmlmaWNhdGlvbixcbiAgICAgICAgICBGYWlsZWRBdHRlbXB0LFxuICAgICAgICAgIFBhc3N3b3JkUmVzZXQsXG4gICAgICAgICAgTG9nLFxuICAgICAgICAgIFJlZnJlc2hUb2tlbkJsYWNrbGlzdCxcbiAgICAgICAgXSxcbiAgICAgICAgc3luY2hyb25pemU6IGZhbHNlLFxuICAgICAgICBleHRyYToge1xuICAgICAgICAgIGNvbm5lY3Rpb25MaW1pdDogY29uZmlnLmdldDxudW1iZXI+KFwiREJfUE9PTF9TSVpFXCIpIHx8IDEwLFxuICAgICAgICB9LFxuICAgICAgfSksXG4gICAgfSksXG4gICAgQWRtaW5Nb2R1bGUsXG4gICAgQXV0aE1vZHVsZSxcbiAgICBVc2VyTW9kdWxlLFxuICAgIExvZ01vZHVsZSxcbiAgXSxcbiAgY29udHJvbGxlcnM6IFtBcHBDb250cm9sbGVyXSxcbiAgcHJvdmlkZXJzOiBbXG4gICAgQXBwU2VydmljZSxcbiAgICB7XG4gICAgICBwcm92aWRlOiBBUFBfR1VBUkQsXG4gICAgICB1c2VDbGFzczogVGhyb3R0bGVyR3VhcmQsXG4gICAgfSxcbiAgICB7XG4gICAgICBwcm92aWRlOiBBUFBfRklMVEVSLFxuICAgICAgdXNlQ2xhc3M6IEFsbEV4Y2VwdGlvbnNGaWx0ZXIsXG4gICAgfSxcbiAgXSxcbn0pXG5leHBvcnQgY2xhc3MgQXBwTW9kdWxlIGltcGxlbWVudHMgTmVzdE1vZHVsZSB7XG4gIGNvbmZpZ3VyZShjb25zdW1lcjogTWlkZGxld2FyZUNvbnN1bWVyKSB7XG4gICAgY29uc3VtZXIuYXBwbHkoQ3NyZk1pZGRsZXdhcmUpLmZvclJvdXRlcyhcIlwiKTtcbiAgfVxufVxuIl0sInZlcnNpb24iOjN9