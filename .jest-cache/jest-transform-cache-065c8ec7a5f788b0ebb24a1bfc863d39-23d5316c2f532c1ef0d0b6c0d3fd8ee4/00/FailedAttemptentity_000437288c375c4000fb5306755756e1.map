{"file":"/home/omar/Desktop/Protofolio_without_redis/src/entities/FailedAttempt.entity.ts","mappings":";;;;;;;;;;;;;AAAA,qCAOiB;AAMV,IAAM,aAAa,GAAnB,MAAM,aAAa;IAExB,EAAE,CAAS;IAGX,KAAK,CAAS;IAGd,SAAS,CAAS;IAMlB,IAAI,CAA2B,CAAC,kBAAkB;IAGlD,QAAQ,CAAS;IAGjB,WAAW,CAAO;IAGlB,WAAW,CAAO;IAGlB,SAAS,CAAO;IAGhB,SAAS,CAAO;CACjB,CAAA;AA9BY,sCAAa;AAExB;IADC,IAAA,gCAAsB,GAAE;;yCACd;AAGX;IADC,IAAA,gBAAM,GAAE;;4CACK;AAGd;IADC,IAAA,gBAAM,GAAE;;gDACS;AAMlB;IAJC,IAAA,gBAAM,EAAC;QACN,IAAI,EAAE,MAAM;QACZ,IAAI,EAAE,CAAC,OAAO,EAAE,cAAc,CAAC;KAChC,CAAC;;2CAC6B;AAG/B;IADC,IAAA,gBAAM,EAAC,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;;+CACN;AAGjB;IADC,IAAA,gBAAM,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;kDACd,IAAI,oBAAJ,IAAI;kDAAC;AAGlB;IADC,IAAA,gBAAM,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;kDACd,IAAI,oBAAJ,IAAI;kDAAC;AAGlB;IADC,IAAA,0BAAgB,GAAE;kDACR,IAAI,oBAAJ,IAAI;gDAAC;AAGhB;IADC,IAAA,0BAAgB,GAAE;kDACR,IAAI,oBAAJ,IAAI;gDAAC;wBA7BL,aAAa;IAJzB,IAAA,gBAAM,GAAE;IACR,IAAA,eAAK,EAAC,CAAC,OAAO,EAAE,WAAW,EAAE,MAAM,CAAC,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC,8BAA8B;;IACtF,IAAA,eAAK,EAAC,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC,CAAC,gCAAgC;;IACzD,IAAA,eAAK,EAAC,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC,CAAC,6BAA6B;GAC9C,aAAa,CA8BzB","names":[],"sources":["/home/omar/Desktop/Protofolio_without_redis/src/entities/FailedAttempt.entity.ts"],"sourcesContent":["import {\n  Entity,\n  PrimaryGeneratedColumn,\n  Column,\n  CreateDateColumn,\n  UpdateDateColumn,\n  Index,\n} from \"typeorm\";\n\n@Entity()\n@Index([\"email\", \"ipAddress\", \"type\"], { unique: true }) // Composite unique constraint\n@Index([\"email\", \"type\"]) // Index for email-based queries\n@Index([\"ipAddress\", \"type\"]) // Index for IP-based queries\nexport class FailedAttempt {\n  @PrimaryGeneratedColumn()\n  id: number;\n\n  @Column()\n  email: string;\n\n  @Column()\n  ipAddress: string;\n\n  @Column({\n    type: \"enum\",\n    enum: [\"login\", \"verification\"],\n  })\n  type: \"login\" | \"verification\"; // Type of attempt\n\n  @Column({ default: 1 })\n  attempts: number;\n\n  @Column({ nullable: true })\n  lastAttempt: Date;\n\n  @Column({ nullable: true })\n  lockedUntil: Date;\n\n  @CreateDateColumn()\n  createdAt: Date;\n\n  @UpdateDateColumn()\n  updatedAt: Date;\n}\n"],"version":3}